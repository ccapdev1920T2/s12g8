(function(e){function t(t){for(var r,i,o=t[0],l=t[1],c=t[2],g=0,d=[];g<o.length;g++)i=o[g],Object.prototype.hasOwnProperty.call(n,i)&&n[i]&&d.push(n[i][0]),n[i]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r]);u&&u(t);while(d.length)d.shift()();return a.push.apply(a,c||[]),s()}function s(){for(var e,t=0;t<a.length;t++){for(var s=a[t],r=!0,o=1;o<s.length;o++){var l=s[o];0!==n[l]&&(r=!1)}r&&(a.splice(t--,1),e=i(i.s=s[0]))}return e}var r={},n={app:0},a=[];function i(t){if(r[t])return r[t].exports;var s=r[t]={i:t,l:!1,exports:{}};return e[t].call(s.exports,s,s.exports,i),s.l=!0,s.exports}i.m=e,i.c=r,i.d=function(e,t,s){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(s,r,function(t){return e[t]}.bind(null,r));return s},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=t,o=o.slice();for(var c=0;c<o.length;c++)t(o[c]);var u=l;a.push([0,"chunk-vendors"]),s()})({0:function(e,t,s){e.exports=s("56d7")},"0328":function(e,t,s){},"034f":function(e,t,s){"use strict";var r=s("85ec"),n=s.n(r);n.a},"0d95":function(e,t,s){"use strict";var r=s("a789"),n=s.n(r);n.a},"1a6f":function(e,t,s){"use strict";var r=s("a35d"),n=s.n(r);n.a},"1c0a":function(e,t,s){},"2b7a":function(e,t,s){e.exports=s.p+"img/InfiniteLoop_Word.7b9094d9.png"},3577:function(e,t,s){},"4b71":function(e,t,s){"use strict";var r=s("9439"),n=s.n(r);n.a},"500c":function(e,t,s){"use strict";var r=s("8188"),n=s.n(r);n.a},"56d7":function(e,t,s){"use strict";s.r(t);s("45fc"),s("e260"),s("e6cf"),s("cca6"),s("a79d");var r=s("2b0e"),n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"main-vue"},[s("Header"),s("router-view")],1)},a=[],i=(s("96cf"),s("1da1")),o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("nav",{staticClass:"navbar navbar-default"},[r("div",{staticClass:"topnav"},[r("router-link",{staticClass:"left",attrs:{to:"/"}},[r("img",{attrs:{src:s("2b7a"),width:"100%",height:"16px"}})]),r("router-link",{staticClass:"right",attrs:{to:"/about"}},[e._v("About")]),e.loggedIn?e._e():r("router-link",{staticClass:"right",attrs:{to:"/signup"}},[e._v("Sign Up")]),e.loggedIn?e._e():r("router-link",{staticClass:"right",attrs:{to:"/login"}},[e._v("Login")]),e.loggedIn?r("a",{staticClass:"right",on:{click:function(t){return e.logout()}}},[e._v("Logout")]):e._e(),e.isAdmin?r("router-link",{staticClass:"right",attrs:{to:"/database"}},[e._v("Database")]):e._e(),e.isAdmin?r("router-link",{staticClass:"right",attrs:{to:"/upload"}},[e._v("Upload")]):e._e(),r("router-link",{staticClass:"right",attrs:{to:"/player"}},[r("a",{on:{click:e.togglePlayer}},[e._v("Player")])])],1)])},l=[],c={name:"Header",computed:{loggedIn:function(){return this.$store.getters.loggedIn},isAdmin:function(){return this.$store.getters.isAdmin}},methods:{logout:function(){var e=this;this.$store.dispatch("destroyToken").then((function(){"/"!==e.$router.currentRoute.path&&e.$router.push("/").catch((function(e){console.log(e)}))})).catch((function(e){console.log(e)}))},togglePlayer:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if("/player"!=e.$router.currentRoute.path){t.next=5;break}return t.next=3,e.$store.commit("togglePlayer");case 3:t.next=7;break;case 5:return t.next=7,e.$store.commit("togglePlayerWithDecision",!0);case 7:case"end":return t.stop()}}),t)})))()}}},u=c,g=(s("0d95"),s("2877")),d=Object(g["a"])(u,o,l,!1,null,"3bcf4aac",null),m=d.exports,p=s("bc3a"),f=s.n(p),h={name:"App",components:{Header:m},created:function(){f.a.interceptors.response.use(void 0,(function(e){return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:401===e.status&&e.config&&!e.config.__isRetryRequest&&(this.$store.dispatch("destroyToken"),"/"!==this.$router.currentRoute&&this.$router.push("/"));case 1:case"end":return t.stop()}}),t,this)})))}))}},v=h,y=(s("034f"),Object(g["a"])(v,n,a,!1,null,null,null)),b=y.exports,w=s("2f62"),S={toggleMusicPlayer:!1,searchResults:null},_={getSearchResults:function(e){return e.searchResults},getToggleStatus:function(e){return e.toggleMusicPlayer}},x={},k={togglePlayerWithDecision:function(e,t){e.toggleMusicPlayer=t},togglePlayer:function(e){e.toggleMusicPlayer=!e.toggleMusicPlayer},retrieveSearchResults:function(e,t){e.searchResults=t}},I={state:S,getters:_,actions:x,mutations:k},C={token:localStorage.getItem("access_token")||null,user:JSON.parse(localStorage.getItem("user"))||null},P={loggedIn:function(e){return null!==e.token},isAdmin:function(e){return null!==e.user&&e.user.isAdmin},userInfo:function(e){return e.user.username}},$={retrieveToken:function(e,t){localStorage.setItem("user",JSON.stringify(t.data.user)),localStorage.setItem("access_token",t.data.token),f.a.defaults.headers.common["Authorization"]=e.token,e.commit("login",t.data.user),e.commit("retrieveToken",t.data.token)},destroyToken:function(e){e.getters.loggedIn&&(localStorage.removeItem("access_token"),localStorage.removeItem("user"),delete f.a.defaults.headers.common["Authorization"],e.commit("destroyToken"))}},N={login:function(e,t){e.user=t},retrieveToken:function(e,t){e.token=t},destroyToken:function(e){e.user=null,e.token=null}},M={state:C,getters:P,actions:$,mutations:N};r["a"].use(w["a"]);var R=new w["a"].Store({modules:{music:I,user:M}}),U=s("8c4f"),L=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"about"},[s("div",{staticClass:"table_box"},[s("ul",[e._m(0),e._m(1),e._l(e.serverPackages,(function(t,r){return s("li",{key:r,staticClass:"items clearfix border-top"},[s("span",{staticClass:"package"},[e._v(e._s(t.name))]),s("span",{staticClass:"version"},[e._v(e._s(t.version))])])}))],2),s("ul",[e._m(2),e._m(3),e._l(e.clientPackages,(function(t,r){return s("li",{key:r,staticClass:"items clearfix border-top"},[s("span",{staticClass:"package"},[e._v(e._s(t.name))]),s("span",{staticClass:"version"},[e._v(e._s(t.version))])])}))],2)])])},T=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("li",{staticClass:"items clearfix border-top"},[s("span",{staticClass:"title"},[e._v("Server Packages")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("li",{staticClass:"items clearfix border-top"},[s("span",{staticClass:"package"},[s("b",[e._v("Package")])]),s("span",{staticClass:"version"},[s("b",[e._v("Version")])])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("li",{staticClass:"items clearfix border-top"},[s("span",{staticClass:"title"},[e._v("Client Packages")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("li",{staticClass:"items clearfix border-top"},[s("span",{staticClass:"package"},[s("b",[e._v("Package")])]),s("span",{staticClass:"version"},[s("b",[e._v("Version")])])])}],O={name:"about",data:function(){return{serverPackages:[{name:"brcrypt",version:"^4.0.1"},{name:"cors",version:"^2.8.5"},{name:"express",version:"^4.17.1"},{name:"jsonwebtoken",version:"^8.5.1"},{name:"mongoose",version:"^5.9.7"},{name:"nodemon",version:"^2.0.2"}],clientPackages:[{name:"axios",version:"^0.19.2"},{name:"core-js",version:"^3.6.4"},{name:"validator",version:"^13.0.0"},{name:"vue",version:"^2.6.11"},{name:"vue-router",version:"^3.1.6"},{name:"vuex",version:"^3.1.3"},{name:"@vue/cli-plugin-babel",version:"~4.3.0"},{name:"@vue/cli-plugin-eslint",version:"~4.3.0"},{name:"@vue/cli-service",version:"~4.3.0"},{name:"babel-eslint",version:"^10.1.0"},{name:"eslint",version:"^6.7.2"},{name:"eslint-plugin-vue",version:"^6.2.2"},{name:"vue-template-compiler",version:"^2.6.11"}]}},methods:{}},j=O,E=(s("4b71"),Object(g["a"])(j,L,T,!1,null,"75f983ac",null)),A=E.exports,W=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"main"},[r("main",{staticClass:"page-content"},[r("div",{staticClass:"search-bar"},[r("form",{staticClass:"form"},[r("img",{staticClass:"center",attrs:{src:s("95da"),width:"350px",height:"200px"}}),r("br"),r("br"),r("br"),r("div",{staticClass:"inner-form"},[r("div",{staticClass:"input-field first-wrap"},[r("div",{staticClass:"svg-wrapper"},[r("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"}},[r("path",{attrs:{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}})])]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.query,expression:"query"}],attrs:{id:"search",name:"search",type:"text",placeholder:"What are you looking for?"},domProps:{value:e.query},on:{input:function(t){t.target.composing||(e.query=t.target.value)}}})]),r("div",{staticClass:"input-field second-wrap"},[r("button",{staticClass:"btn-search",on:{click:function(t){return t.preventDefault(),e.search(t)}}},[e._v("SEARCH")])])]),r("span",{staticClass:"info"},[e._v("ex. Song Title or Artist")])])])])])},D=[],q=s("d4ec"),B=s("bee2"),F="api/song",z="api/playlist",G=function(){function e(){Object(q["a"])(this,e)}return Object(B["a"])(e,null,[{key:"addSong",value:function(e){return f.a.post("".concat(F,"/upload"),e)}},{key:"searchSong",value:function(e){return f.a.get("".concat(F,"/search/").concat(e))}},{key:"deleteSong",value:function(e){return f.a.post("".concat(F,"/delete"),{url:e})}},{key:"updateSong",value:function(e){return f.a.patch("".concat(F,"/update"),e)}},{key:"getAllSongs",value:function(){return f.a.get("".concat(F,"/list"))}},{key:"retrievePlaylist",value:function(e){return f.a.get("".concat(z,"/").concat(e))}},{key:"addToPlaylist",value:function(e,t){return f.a.post("".concat(z,"/add"),{username:e,song:t})}},{key:"deleteFromPlaylist",value:function(e,t){return f.a.patch("".concat(z,"/delete"),{username:e,song:t})}},{key:"updatePlaylistName",value:function(e,t){return f.a.post("".concat(z,"/edit"),{username:e,name:t})}}]),e}(),V=G,H={name:"home",data:function(){return{query:""}},methods:{search:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(""===e.query){t.next=3;break}return t.next=3,V.searchSong(e.query).then((function(t){e.$store.commit("togglePlayerWithDecision",!1),e.$store.commit("retrieveSearchResults",t.data.songs),e.$router.push("/player")})).catch((function(e){console.log(e)}));case 3:case"end":return t.stop()}}),t)})))()}}},J=H,X=(s("eb0f"),Object(g["a"])(J,W,D,!1,null,"44b65833",null)),K=X.exports,Q=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"main"},[s("p",{staticClass:"sign",attrs:{align:"center"}},[e._v("Log in")]),s("form",{staticClass:"form",attrs:{name:"form"},on:{submit:function(t){return t.preventDefault(),e.logUser(t)}}},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.userInfo.account,expression:"userInfo.account"}],staticClass:"user_email",class:{error:e.errors.account},attrs:{name:"user_email",type:"text",align:"center",placeholder:"Username or Email"},domProps:{value:e.userInfo.account},on:{input:function(t){t.target.composing||e.$set(e.userInfo,"account",t.target.value)}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:e.userInfo.password,expression:"userInfo.password"}],staticClass:"password",class:{error:e.errors.password},attrs:{name:"password",type:"password",align:"center",placeholder:"Password"},domProps:{value:e.userInfo.password},on:{input:function(t){t.target.composing||e.$set(e.userInfo,"password",t.target.value)}}}),s("input",{staticClass:"submit",attrs:{type:"submit",name:"submit",value:"Log in"}})]),e._l(e.errorMessage,(function(t,r){return s("p",{key:r,attrs:{id:"displayError"}},[e._v(e._s(t))])}))],2)},Y=[],Z="api/user",ee=function(){function e(){Object(q["a"])(this,e)}return Object(B["a"])(e,null,[{key:"addUser",value:function(e){return f.a.post("".concat(Z,"/signup"),e)}},{key:"login",value:function(e){return f.a.post("".concat(Z,"/login"),e)}}]),e}(),te=ee,se={name:"login",data:function(){return{userInfo:{account:"",password:""},errors:{account:!1,password:!1},errorMessage:[]}},methods:{logUser:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.errorMessage=[],this.errors={account:!1,password:!1},""!==this.userInfo.account&&""!==this.userInfo.password){e.next=7;break}""===this.userInfo.account&&(this.errors.account=!0,this.errorMessage.push("Account cannot be blank!")),""===this.userInfo.password&&(this.errors.password=!0,this.errorMessage.push("Password cannot be blank!")),e.next=9;break;case 7:return e.next=9,te.login({account:this.userInfo.account,password:this.userInfo.password}).then((function(e){200==e.status?(t.$store.dispatch("retrieveToken",e),t.$router.push("/")):t.errorMessage.push("Username or password is incorrect!")})).catch((function(e){console.log(e)}));case 9:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}},re=se,ne=(s("1a6f"),Object(g["a"])(re,Q,Y,!1,null,"51f16fe1",null)),ae=ne.exports,ie=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"music_div"},[e.$store.getters.getToggleStatus?e._e():s("MusicList",{on:{toggle:function(t){e.$store.getters.getToggleStatus=!0}}}),e.$store.getters.getToggleStatus?s("MusicPlayerComponent",{on:{toggle:function(t){e.$store.getters.getToggleStatus=!1}}}):e._e(),e.$store.getters.getToggleStatus?s("div",{staticClass:"bg_player_mask"}):e._e()],1)},oe=[],le=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"main_content clearfix"},[s("div",{staticClass:"box_left"},[s("div",{staticClass:"music_list",attrs:{id:"music_list"}},[s("ul",{},[e._m(0),e._l(e.searchList,(function(t,r){return s("li",{key:r,staticClass:"music_item clearfix border-top",on:{click:function(s){e.selectedItem=t}}},[s("span",{staticClass:"state"},[s("input",{staticClass:"css-checkbox",attrs:{type:"checkbox",name:"checkboxG2",id:t.title},domProps:{checked:t.checked},on:{change:function(s){return e.onChange(t,s)}}}),s("label",{staticClass:"css-label title",attrs:{for:t.title}})]),s("span",{staticClass:"title"},[e._v(e._s(t.title))]),s("span",{staticClass:"artist"},[e._v(e._s(t.artist))]),s("span",{staticClass:"duration"},[e._v(e._s(e.formatSeconds(t.duration)))])])}))],2)]),e._m(1)]),s("div",{staticClass:"box_right"},[s("div",{staticClass:"album_img"},[e.selectedItem.coverImage?s("img",{attrs:{src:e.selectedItem.coverImage},on:{click:function(t){return e.$emit("toggle")}}}):e._e()]),s("p",[s("span",[e._v(e._s(e.selectedItem.title))])]),s("p",[s("span",[e._v(e._s(e.selectedItem.artist))])]),s("div",{staticClass:"playlist_box"},[s("ul",[s("li",{staticClass:"playlist_title clearfix border-top"},[s("span",{staticClass:"title",on:{click:function(t){return e.$store.commit("togglePlayerWithDecision",!0)}}},[e._v(" "+e._s(e.playlistName)+" "),s("i",{staticClass:"fa fa-play",attrs:{id:"play"}})])]),e._l(e.playlist,(function(t,r){return s("li",{key:r,staticClass:"playlist_title clearfix border-top",on:{click:function(s){e.selectedItem=t}}},[s("span",{staticClass:"title"},[e._v(e._s(r+1)+" "+e._s(t.title))])])}))],2)])])])},ce=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("li",{staticClass:"clearfix border-top",attrs:{id:"songlist__header"}},[s("span",{staticClass:"title"},[e._v("Title")]),s("span",{staticClass:"artist"},[e._v("Singer")]),s("span",{staticClass:"duration"},[e._v("Duration")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("p",{attrs:{id:"tooltip"}},[e._v("Click the heart to add to your playlist! Click again to remove!")]),s("p",{attrs:{id:"tooltip"}},[e._v("Click on the song to view album image!")]),s("p",{attrs:{id:"tooltip"}},[e._v("Click the play button to the right side to play your playlist!")])])}],ue=(s("4de4"),s("4160"),s("ac1f"),s("5319"),s("159b"),{name:"musiclist",data:function(){return{searchList:[],selectedItem:{},playlist:[],playlistName:"playlist"}},created:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.playlist=[],t.next=3,e.$store.getters.getSearchResults;case 3:return e.searchList=t.sent,t.next=6,V.retrievePlaylist(e.$store.getters.userInfo).then((function(t){if(200==t.status){e.playlist=t.data.result.songs,e.playlistName=t.data.result.playlistName,e.searchList.forEach((function(e){e.checked=!1}));for(var s=0;s<e.searchList.length;s++)for(var r=0;r<e.playlist.length;r++)e.searchList[s].url==e.playlist[r].url&&(e.searchList[s].checked=!0)}})).catch((function(e){console.log(e)}));case 6:case"end":return t.stop()}}),t)})))()},methods:{onChange:function(e,t){var s=this;return Object(i["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(!t.target.checked){r.next=5;break}return r.next=3,V.addToPlaylist(s.$store.getters.userInfo,e).then((function(){s.playlist.push(e)})).then((function(){for(var e=0;e<s.searchList.length;e++)for(var t=0;t<s.playlist.length;t++)s.searchList[e].url==s.playlist[t].url&&(s.searchList[e].checked=!0)})).catch((function(e){console.log(e)}));case 3:r.next=7;break;case 5:return r.next=7,V.deleteFromPlaylist(s.$store.getters.userInfo,e).then((function(){s.playlist=s.playlist.filter((function(t){return t.url!==e.url}))})).then((function(){for(var e=0;e<s.searchList.length;e++)for(var t=0;t<s.playlist.length;t++)s.searchList[e].url==s.playlist[t].url&&(s.searchList[e].checked=!0)})).catch((function(e){console.log(e)}));case 7:case"end":return r.stop()}}),r)})))()},formatSeconds:function(e){var t=new Date(1970,0,1);return t.setSeconds(e),t.toTimeString().replace(/.*(\d{2}:\d{2}:\d{2}).*/,"$1")}}}),ge=ue,de=(s("94a4"),Object(g["a"])(ge,le,ce,!1,null,"08fd8524",null)),me=de.exports,pe=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"only_lyric_page",attrs:{id:"music-player"}},[s("img",{attrs:{id:"album-art",src:e.currentSong.coverImage}}),s("div",{attrs:{id:"top-bar"}},[s("div",{attrs:{id:"about-song"}},[s("span",{staticClass:"song-name"},[e._v("Now Playing: "+e._s(e.currentSong.title))]),s("span",{staticClass:"artist-name"},[e._v(" by "+e._s(e.currentSong.artist))])])]),s("div",{attrs:{id:"lyrics"}},[s("h2",{staticClass:"song-name"}),s("h4",{staticClass:"artist-name"}),s("div",{attrs:{id:"lyrics-content"}},e._l(e.currentSong.lyrics,(function(t,r){return s("div",{key:r,staticClass:"text"},[e._v(e._s(t))])})),0)]),s("audio",{ref:"audio",attrs:{id:"audioFile",src:e.currentSong.url,preload:"true"},on:{timeupdate:function(t){e.currentTime=t.target.currentTime}}}),s("div",{attrs:{id:"player"}},[s("div",{attrs:{id:"bar"}},[s("div",{attrs:{id:"current-time"}},[e._v(e._s(e.formatSeconds(e.time)))]),s("div",{attrs:{id:"progress-bar"},on:{mousedown:e.startMoveProgress,mousemove:function(t){return t.preventDefault(),e.moveProgressBar(t)}}},[s("div",{style:{width:e.progressBarWidth+"%"},attrs:{id:"progress"}},[s("i",{staticClass:"fa fa-circle",attrs:{id:"progressButton"},on:{mousedown:e.startMoveProgress,mousemove:function(t){return t.preventDefault(),e.moveProgressBar(t)}}})])]),s("div",{attrs:{id:"total-time"}},[e._v(e._s(e.formatSeconds(e.currentSong.duration)))])]),s("div",{attrs:{id:"menu"}},[s("button",{attrs:{id:"searchButton"},on:{click:function(t){return e.$store.commit("togglePlayer")}}},[s("i",{staticClass:"fa fa-search"})]),s("button",{style:e.repeatColor,attrs:{id:"repeat"},on:{click:e.toggleRepeat}},[s("i",{staticClass:"fa fa-repeat"})]),s("button",{attrs:{id:"prev"},on:{click:e.prevSong}},[s("i",{staticClass:"fa fa-step-backward"})]),s("button",{attrs:{id:"play"},on:{click:e.playSong}},[s("i",{class:e.play?"fa fa-pause":"fa fa-play"})]),s("button",{attrs:{id:"next"},on:{click:e.nextSong}},[s("i",{staticClass:"fa fa-step-forward"})]),s("button",{style:e.shuffleColor,attrs:{id:"shuffle"},on:{click:e.toggleShuffle}},[s("i",{staticClass:"fa fa-random"})]),s("button",{attrs:{id:"playlistButton"},on:{click:e.togglePlaylist}},[s("i",{staticClass:"fa fa-list"})])])]),s("div",{style:{transform:e.playlistTransform},attrs:{id:"playlist"}},[s("div",{attrs:{id:"label"}},[e.editPlaylist?e._e():s("h1",[e._v(" "+e._s(e.playlistName)+" "),s("i",{staticClass:"fa fa-edit",attrs:{id:"edit"},on:{click:function(t){return e.toggleNameEdit(!0)}}})]),e.editPlaylist?s("h1",[s("input",{directives:[{name:"model",rawName:"v-model",value:e.playlistName,expression:"playlistName"}],attrs:{type:"text"},domProps:{value:e.playlistName},on:{input:function(t){t.target.composing||(e.playlistName=t.target.value)}}}),e._v(" "),e.editPlaylist?s("i",{staticClass:"fa fa-edit",attrs:{id:"edit"},on:{click:function(t){e.toggleNameEdit(!1),e.savePlaylistName()}}}):e._e()]):e._e(),s("input",{directives:[{name:"model",rawName:"v-model",value:e.searchString,expression:"searchString"}],attrs:{id:"search",type:"text",placeholder:e.placeholderString},domProps:{value:e.searchString},on:{keyup:e.searchText,input:function(t){t.target.composing||(e.searchString=t.target.value)}}})]),s("div",{attrs:{id:"show-box"}},[s("div",{attrs:{id:"show-list"}},e._l(e.filteredPlaylist,(function(t,r){return s("div",{key:r,staticClass:"float-song-card"},[s("img",{staticClass:"album-art",staticStyle:{display:"block"},attrs:{src:t.coverImage},on:{click:function(s){return e.loadAndPlaySong(t)}}}),s("i",{staticClass:"fa fa-trash",attrs:{id:"remove"},on:{click:function(s){return e.removeFromList(t)}}}),s("h2",{staticClass:"song",on:{click:function(s){return e.loadAndPlaySong(t)}}},[e._v(e._s(t.title))]),s("h4",{staticClass:"artist",on:{click:function(s){return e.loadAndPlaySong(t)}}},[e._v(e._s(t.artist))])])})),0)])])])},fe=[],he=(s("caad"),s("c975"),s("d3b7"),s("2532"),{name:"musicplayercomponent",data:function(){return{playlist:[],filteredPlaylist:[],databasePlaylistName:"",playlistName:"",index:0,currentSong:{},time:0,play:0,songRepeat:0,songRepeatColor:"grey",songShuffle:0,songShuffleColor:"grey",mute:0,previousTime:0,progressBarWidth:0,moveProgress:!1,currentTime:0,displayPlaylist:0,playlistTransform:"translateX(100%)",placeholderString:" Search from all songs",editPlaylist:!1,searchString:""}},created:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,V.retrievePlaylist(e.$store.getters.userInfo).then((function(t){200==t.status&&(e.playlist=t.data.result.songs,e.playlistName=t.data.result.playlistName,e.databasePlaylistName=t.data.result.playlistName)})).catch((function(e){console.log(e)}));case 2:e.currentSong=e.playlist[0],e.filteredPlaylist=e.playlist;case 4:case"end":return t.stop()}}),t)})))()},computed:{repeatColor:function(){return{color:this.songRepeatColor}},shuffleColor:function(){return{color:this.songShuffleColor}},retrieveAlbumArt:function(){return this.currentSong.coverImage}},methods:{toggleNameEdit:function(e){this.editPlaylist=e},savePlaylistName:function(){this.databasePlaylistName!=this.playlistName&&V.updatePlaylistName(this.$store.getters.userInfo,this.playlistName).catch((function(e){console.log(e)}))},reset:function(){this.time=0,this.$refs.audio.currentTime=0},loadSong:function(){this.$refs.audio.src=this.currentSong.url,console.log(this.currentSong.title+" loaded.")},loadAndPlaySong:function(e){this.currentSong=e,this.index=this.playlist.indexOf(e),this.reset(),this.previousTime=0,this.$refs.audio.src=e.url,this.play=0,this.$refs.audio.pause(),this.playSong(),console.log(this.currentSong.title+" loaded.")},prevSong:function(){this.reset(),this.previousTime=0,1==this.songShuffle?this.index=parseInt(10*Math.random())%this.playlist.length:this.index=(this.index-1)%this.playlist.length,this.currentSong=this.playlist[this.index],this.loadSong(),this.play=0,this.$refs.audio.pause(),this.playSong()},nextSong:function(){this.reset(),this.previousTime=0,1==this.songShuffle?(this.index=parseInt(Math.random()*this.playlist.length)%this.playlist.length,console.log(this.index)):this.index=(this.index+1)%this.playlist.length,this.currentSong=this.playlist[this.index],this.loadSong(),this.play=0,this.$refs.audio.pause(),this.playSong()},playSong:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:0==e.play?(e.play=1,s=e.$refs.audio.play().then().catch((function(e){throw e})),void 0!==s&&s.then((function(){})).catch((function(t){throw e.$refs.audio.play().catch((function(e){throw e})),t}))):(e.play=0,e.$refs.audio.pause());case 1:case"end":return t.stop()}}),t)})))()},toggleRepeat:function(){0==this.songRepeat?(this.songRepeatColor="white",this.songRepeat=1):(this.songRepeatColor="grey",this.songRepeat=0)},toggleShuffle:function(){0==this.songShuffle?(this.songShuffleColor="white",this.songShuffle=1):(this.songShuffleColor="grey",this.songShuffle=0)},startMoveProgress:function(){this.moveProgress=!0},moveProgressBar:function(e){if(this.moveProgress){var t="70%",s=parseInt(e.offsetX/11)/parseInt(t)*100;parseInt(s)<=100?(this.progressBarWidth=s,this.time=this.$refs.audio.duration*(s.toPrecision()/100),this.$refs.audio.currentTime=this.time):this.stopMoveProgress()}},stopMoveProgress:function(){this.moveProgress=!1},togglePlaylist:function(){0==this.displayPlaylist?(this.playlistTransform="translateX(0)",this.displayPlaylist=1):(this.playlistTransform="translateX(100%)",this.displayPlaylist=0)},formatSeconds:function(e){var t=new Date(1970,0,1);return t.setSeconds(e),t.toTimeString().replace(/.*(\d{2}:\d{2}:\d{2}).*/,"$1")},removeFromList:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function s(){return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.next=2,V.deleteFromPlaylist(t.$store.getters.userInfo,e).then((function(){t.playlist=t.playlist.filter((function(t){return t.url!==e.url})),t.searchText(),0==t.playlist.length&&(t.playSong(),t.currentSong={},t.$router.push("/")),t.currentSong.url==e.url&&(t.currentSong=t.playlist[0],t.loadSong(),t.play=0,t.playSong())})).catch((function(e){console.log(e)}));case 2:case"end":return s.stop()}}),s)})))()},searchText:function(){var e=this;""===this.searchString?this.filteredPlaylist=this.playlist:this.filteredPlaylist=this.playlist.filter((function(t){return t.title.toLowerCase().includes(e.searchString.toLowerCase())||t.artist.toLowerCase().includes(e.searchString.toLowerCase())}))}},watch:{currentTime:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e){return setTimeout(e,1e3)}));case 2:if(!(this.time>=this.currentSong.duration)){e.next=12;break}if(this.play=0,1!=this.songRepeat){e.next=10;break}return this.reset(),this.playSong(),e.abrupt("return");case 10:this.nextSong();case 11:return e.abrupt("return");case 12:this.currentSong.duration!=this.previousTime?(this.previousTime=this.$refs.audio.currentTime,this.time=this.$refs.audio.currentTime,t=this.time/this.$refs.audio.duration*100,this.progressBarWidth=t):(this.time=parseFloat(this.$refs.audio.currentTime),this.time>.1&&(this.time=this.time-.1),1==this.play&&(this.$refs.audio.pause(),4==this.$refs.audio.readyState&&this.$refs.audio.play().catch((function(e){console.log(e)}))));case 13:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},mounted:function(){window.addEventListener("mouseup",this.stopMoveProgress)},destroyed:function(){window.removeEventListener("mouseup",this.stopMoveProgress)}}),ve=he,ye=(s("500c"),Object(g["a"])(ve,pe,fe,!1,null,"d974e3a0",null)),be=ye.exports,we={name:"musicplayer",components:{MusicList:me,MusicPlayerComponent:be},data:function(){return{}}},Se=we,_e=(s("806b"),Object(g["a"])(Se,ie,oe,!1,null,"3ea60b53",null)),xe=_e.exports,ke=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"main"},[s("p",{staticClass:"sign",attrs:{align:"center"}},[e._v("Registration")]),s("form",{staticClass:"form",attrs:{id:"signup",name:"form"},on:{submit:function(t){return t.preventDefault(),e.checkForm(t)}}},[s("label",{attrs:{for:"fname"}}),s("br"),s("input",{directives:[{name:"model",rawName:"v-model",value:e.newUser.firstName,expression:"newUser.firstName"}],class:{error:e.errors.firstName},attrs:{type:"text",name:"fname",id:"fname",align:"center",placeholder:"First Name"},domProps:{value:e.newUser.firstName},on:{input:function(t){t.target.composing||e.$set(e.newUser,"firstName",t.target.value)}}}),s("label",{attrs:{for:"lname"}}),s("input",{directives:[{name:"model",rawName:"v-model",value:e.newUser.lastName,expression:"newUser.lastName"}],class:{error:e.errors.lastName},attrs:{type:"text",name:"lname",id:"lname",align:"center",placeholder:"Last Name"},domProps:{value:e.newUser.lastName},on:{input:function(t){t.target.composing||e.$set(e.newUser,"lastName",t.target.value)}}}),s("label",{attrs:{for:"email"}}),s("input",{directives:[{name:"model",rawName:"v-model",value:e.newUser.email,expression:"newUser.email"}],class:{error:e.errors.email},attrs:{type:"text",name:"email",id:"email",align:"center",placeholder:"Email"},domProps:{value:e.newUser.email},on:{input:function(t){t.target.composing||e.$set(e.newUser,"email",t.target.value)}}}),s("label",{attrs:{for:"uname"}}),s("input",{directives:[{name:"model",rawName:"v-model",value:e.newUser.username,expression:"newUser.username"}],class:{error:e.errors.username},attrs:{type:"text",name:"uname",id:"uname",align:"center",placeholder:"Username"},domProps:{value:e.newUser.username},on:{input:function(t){t.target.composing||e.$set(e.newUser,"username",t.target.value)}}}),s("label",{attrs:{for:"pw"}}),s("input",{directives:[{name:"model",rawName:"v-model",value:e.newUser.password,expression:"newUser.password"}],class:{error:e.errors.password},attrs:{type:"password",name:"pw",id:"pw",align:"center",placeholder:"Password (at least 6 characters)"},domProps:{value:e.newUser.password},on:{input:function(t){t.target.composing||e.$set(e.newUser,"password",t.target.value)}}}),s("label",{attrs:{for:"cpw"}}),s("input",{directives:[{name:"model",rawName:"v-model",value:e.newUser.confirmPW,expression:"newUser.confirmPW"}],class:{error:e.errors.confirmPW},attrs:{type:"password",name:"cpw",id:"cpw",align:"center",placeholder:"Confirm Password"},domProps:{value:e.newUser.confirmPW},on:{input:function(t){t.target.composing||e.$set(e.newUser,"confirmPW",t.target.value)}}}),s("input",{staticClass:"submit",attrs:{type:"submit",id:"submit",value:"Sign Up"}})]),e._l(e.errorMessage,(function(t,r){return s("p",{key:r,attrs:{id:"displayError"}},[e._v(e._s(t))])}))],2)},Ie=[],Ce=s("f90c"),Pe=s.n(Ce),$e={name:"signup",data:function(){return{newUser:{email:"",username:"",firstName:"",lastName:"",password:"",confirmPW:""},errors:{email:!1,username:!1,firstName:!1,lastName:!1,password:!1,confirmPW:!1},errorMessage:[]}},methods:{checkForm:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.errorMessage=[],this.errors={email:!1,username:!1,firstName:!1,lastName:!1,password:!1,confirmPW:!1},""==this.newUser.firstName&&(this.errors.firstName=!0,this.errorMessage.push("First name cannot be blank!")),""==this.newUser.lastName&&(this.errors.lastName=!0,this.errorMessage.push("Last name cannot be blank!")),Pe.a.isEmail(this.newUser.email)?""==this.newUser.email&&(this.errors.email=!0,this.errorMessage.push("Email cannot be blank!")):(this.errors.email=!0,this.errorMessage.push("Email is invalid!")),""==this.newUser.username&&(this.errors.username=!0,this.errorMessage.push("Username cannot be blank!")),""==this.newUser.password?(this.errors.password=!0,this.errorMessage.push("Password cannot be blank!")):Pe.a.isLength(this.newUser.password,{min:6,max:128})?this.newUser.password!=this.newUser.confirmPW&&(this.errors.confirmPW=!0,this.errors.password=!0,this.errorMessage.push("Password didn't match!")):(this.errors.password=!0,this.errorMessage.push("Password too short! (minimum of 6 alphanumeric characters)")),!1!==this.errors.email||!1!==this.errors.firstName||!1!==this.errors.lastName||!1!==this.errors.password||!1!==this.errors.confirmPW){e.next=10;break}return e.next=10,te.addUser({email:this.newUser.email,username:this.newUser.username,firstName:this.newUser.firstName,lastName:this.newUser.lastName,password:this.newUser.password}).then((function(e){201==e.status?t.$router.push("/login"):t.errorMessage.push("Email or username exists!")})).catch((function(e){console.log(e)}));case 10:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}},Ne=$e,Me=(s("6b02"),Object(g["a"])(Ne,ke,Ie,!1,null,"0258f51b",null)),Re=Me.exports,Ue=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"main"},[s("p",{staticClass:"sign",attrs:{align:"center"}},[e._v("Upload Song")]),s("form",{staticClass:"form",attrs:{name:"form"},on:{submit:function(t){return t.preventDefault(),e.addSong(t)}}},[s("div",{staticClass:"grid"},[s("img",{attrs:{src:e.songInfo.coverImage,id:"imagebox"}}),s("input",{directives:[{name:"model",rawName:"v-model",value:e.songInfo.title,expression:"songInfo.title"}],class:{error:e.errors.title},attrs:{type:"text",name:"title",id:"title",align:"center",placeholder:"Title"},domProps:{value:e.songInfo.title},on:{input:function(t){t.target.composing||e.$set(e.songInfo,"title",t.target.value)}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:e.songInfo.artist,expression:"songInfo.artist"}],class:{error:e.errors.artist},attrs:{type:"text",name:"artist",id:"artist",align:"center",placeholder:"Artist"},domProps:{value:e.songInfo.artist},on:{input:function(t){t.target.composing||e.$set(e.songInfo,"artist",t.target.value)}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:e.songInfo.genre,expression:"songInfo.genre"}],class:{error:e.errors.genre},attrs:{type:"text",name:"genre",id:"genre",align:"center",placeholder:"Genre"},domProps:{value:e.songInfo.genre},on:{input:function(t){t.target.composing||e.$set(e.songInfo,"genre",t.target.value)}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:e.songInfo.duration,expression:"songInfo.duration"}],class:{error:e.errors.duration},attrs:{type:"text",name:"song-length",id:"slength",align:"center",placeholder:"Song Length (in seconds)"},domProps:{value:e.songInfo.duration},on:{input:function(t){t.target.composing||e.$set(e.songInfo,"duration",t.target.value)}}}),s("textarea",{directives:[{name:"model",rawName:"v-model",value:e.songInfo.lyrics,expression:"songInfo.lyrics"}],class:{error:e.errors.lyrics},attrs:{id:"lyrics",name:"lyrics",placeholder:"Insert lyrics here (separated by newline)",rows:"3"},domProps:{value:e.songInfo.lyrics},on:{input:function(t){t.target.composing||e.$set(e.songInfo,"lyrics",t.target.value)}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:e.songInfo.url,expression:"songInfo.url"}],class:{error:e.errors.url},attrs:{type:"text",id:"uploads",placeholder:"Input Song Link"},domProps:{value:e.songInfo.url},on:{input:function(t){t.target.composing||e.$set(e.songInfo,"url",t.target.value)}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:e.songInfo.coverImage,expression:"songInfo.coverImage"}],class:{error:e.errors.coverImage},attrs:{type:"text",id:"uploadi",placeholder:"Input Image Link"},domProps:{value:e.songInfo.coverImage},on:{input:function(t){t.target.composing||e.$set(e.songInfo,"coverImage",t.target.value)}}}),s("input",{staticClass:"submit",attrs:{type:"submit",id:"submit",align:"center",value:"Submit"}}),s("div",e._l(e.errorMessage,(function(t,r){return s("p",{key:r,attrs:{id:"displayError"}},[e._v(e._s(t))])})),0)])])])},Le=[],Te=(s("1276"),{name:"upload",data:function(){return{songInfo:{title:"",artist:"",genre:"",duration:"",lyrics:"",url:"",coverImage:""},errors:{title:!1,artist:!1,genre:!1,duration:!1,lyrics:!1,url:!1,coverImage:!1},errorMessage:[]}},methods:{addSong:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t,s,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=[],this.errors={title:!1,artist:!1,genre:!1,duration:!1,lyrics:!1,url:!1,coverImage:!1},this.errorMessage=[],s=!1,""===this.songInfo.title&&(s=!0,this.errors.title=!0,this.errorMessage.push("Title cannot be blank!")),""===this.songInfo.artist&&(s=!0,this.errors.artist=!0,this.errorMessage.push("Artist cannot be blank!")),""===this.songInfo.genre&&(s=!0,this.errors.genre=!0,this.errorMessage.push("Genre cannot be blank!")),""!==this.songInfo.duration&&Pe.a.isNumeric(this.songInfo.duration)||(s=!0,this.errors.duration=!0,""===this.songInfo.duration?this.errorMessage.push("Duration cannot be blank!"):this.errorMessage.push("Duration must be numeric!")),""===this.songInfo.lyrics?(s=!0,this.errors.lyrics=!0,this.errorMessage.push("Lyrics cannot be blank!")):t=this.songInfo.lyrics.split("\n"),""!==this.songInfo.url&&Pe.a.isURL(this.songInfo.url)||(s=!0,this.errors.url=!0,""===this.songInfo.url?this.errorMessage.push("Song URL cannot be blank!"):this.errorMessage.push("Song URL must be a valid URL ending in mp3 or audio format!")),""!==this.songInfo.coverImage&&Pe.a.isURL(this.songInfo.coverImage)||(s=!0,this.errors.coverImage=!0,""===this.songInfo.coverImage?this.errorMessage.push("Image URL cannot be blank!"):this.errorMessage.push("Image URL must be a valid URL ending in png or image format!")),s){e.next=14;break}return e.next=14,V.addSong({title:this.songInfo.title,artist:this.songInfo.artist,genre:this.songInfo.genre,duration:this.songInfo.duration,lyrics:t,coverImage:this.songInfo.coverImage,url:this.songInfo.url}).then((function(e){201===e.status?r.errorMessage.push("Song successfully added!"):r.errorMessage.push("Song exists or an error has occurred!")})).catch((function(e){console.log(e)}));case 14:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}}),Oe=Te,je=(s("edd0"),Object(g["a"])(Oe,Ue,Le,!1,null,"16d9175c",null)),Ee=je.exports,Ae=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"database_box"},[e.editMode?e._e():s("div",{staticClass:"songs"},e._l(e.songList,(function(t,r){return s("div",{key:r,staticClass:"song"},[s("h4",[e._v(" Title "),s("span",{staticStyle:{"font-size":"smaller"}},[e._v(e._s(t.title))])]),s("h5",[e._v(" Artist "),s("span",{staticStyle:{"font-size":"smaller"}},[e._v(e._s(t.artist))])]),s("h5",[e._v(" Genre "),s("span",{staticStyle:{"font-size":"smaller"}},[e._v(e._s(t.genre.toString()))])]),s("div",{staticClass:"lyric_box"},e._l(t.lyrics,(function(t,r){return s("p",{key:r,staticClass:"card-text"},[e._v(e._s(t))])})),0),s("div",{staticClass:"buttons"},[s("button",{staticClass:"button editbutton js-message-btn",on:{click:function(s){e.editMode=!0,e.selectedSong=e.formatSong(t)}}},[e._v("Edit")]),s("button",{staticClass:"button deletebutton",on:{click:function(s){return e.deleteSong(t)}}},[e._v("Delete")])])])})),0),e.editMode?s("div",{staticClass:"main",on:{submit:function(t){return t.preventDefault(),e.updateSong(t)}}},[s("p",{staticClass:"sign",attrs:{align:"center"}},[e._v("Upload Song")]),s("form",{staticClass:"form",attrs:{name:"form"}},[s("div",{staticClass:"grid"},[s("img",{attrs:{src:e.selectedSong.coverImage,id:"imagebox"}}),s("input",{directives:[{name:"model",rawName:"v-model",value:e.selectedSong.title,expression:"selectedSong.title"}],class:{error:e.errors.title},attrs:{type:"text",name:"title",id:"title",align:"center"},domProps:{value:e.selectedSong.title},on:{input:function(t){t.target.composing||e.$set(e.selectedSong,"title",t.target.value)}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:e.selectedSong.artist,expression:"selectedSong.artist"}],class:{error:e.errors.artist},attrs:{type:"text",name:"artist",id:"artist",align:"center"},domProps:{value:e.selectedSong.artist},on:{input:function(t){t.target.composing||e.$set(e.selectedSong,"artist",t.target.value)}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:e.selectedSong.genre,expression:"selectedSong.genre"}],class:{error:e.errors.genre},attrs:{type:"text",name:"genre",id:"genre",align:"center"},domProps:{value:e.selectedSong.genre},on:{input:function(t){t.target.composing||e.$set(e.selectedSong,"genre",t.target.value)}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:e.selectedSong.duration,expression:"selectedSong.duration"}],class:{error:e.errors.duration},attrs:{type:"text",name:"song-length",id:"slength",align:"center"},domProps:{value:e.selectedSong.duration},on:{input:function(t){t.target.composing||e.$set(e.selectedSong,"duration",t.target.value)}}}),s("textarea",{directives:[{name:"model",rawName:"v-model",value:e.selectedSong.lyrics,expression:"selectedSong.lyrics"}],class:{error:e.errors.lyrics},attrs:{id:"lyrics",name:"lyrics",rows:"3"},domProps:{value:e.selectedSong.lyrics},on:{input:function(t){t.target.composing||e.$set(e.selectedSong,"lyrics",t.target.value)}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:e.selectedSong.url,expression:"selectedSong.url"}],class:{error:e.errors.url},attrs:{type:"text",disabled:"true",id:"uploads"},domProps:{value:e.selectedSong.url},on:{input:function(t){t.target.composing||e.$set(e.selectedSong,"url",t.target.value)}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:e.selectedSong.coverImage,expression:"selectedSong.coverImage"}],class:{error:e.errors.coverImage},attrs:{type:"text",id:"uploadi"},domProps:{value:e.selectedSong.coverImage},on:{input:function(t){t.target.composing||e.$set(e.selectedSong,"coverImage",t.target.value)}}}),s("input",{staticClass:"submit",attrs:{type:"submit",id:"submit",align:"center",value:"Submit"}}),s("div",e._l(e.errorMessage,(function(t,r){return s("p",{key:r,attrs:{id:"displayError"}},[e._v(e._s(t))])})),0)])])]):e._e()])},We=[],De=(s("d81d"),s("25f0"),s("498a"),s("5530")),qe={name:"database",data:function(){return{songList:[],selectedSong:{},editMode:!1,errors:{title:!1,artist:!1,genre:!1,duration:!1,lyrics:!1,url:!1,coverImage:!1},errorMessage:[]}},computed:{},created:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,V.getAllSongs().then((function(t){200==t.status&&(e.songList=t.data.results)})).catch((function(e){console.log(e)}));case 2:null==e.songList?e.songList=[]:e.songList.forEach((function(e){e.editMode=!1}));case 3:case"end":return t.stop()}}),t)})))()},methods:{deleteSong:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function s(){return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.next=2,V.deleteSong(e.url).then((function(e){console.log(e)})).catch((function(e){console.log(e)}));case 2:t.songList=t.songList.filter((function(t){return t.url!==e.url}));case 3:case"end":return s.stop()}}),s)})))()},updateSong:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t,s,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=[],this.errors={title:!1,artist:!1,genre:!1,duration:!1,lyrics:!1,url:!1,coverImage:!1},this.errorMessage=[],s=!1,""===this.selectedSong.title&&(s=!0,this.errors.title=!0,this.errorMessage.push("Title cannot be blank!")),""===this.selectedSong.artist&&(s=!0,this.errors.artist=!0,this.errorMessage.push("Artist cannot be blank!")),""===this.selectedSong.genre&&(s=!0,this.errors.genre=!0,this.errorMessage.push("Genre cannot be blank!")),""!==this.selectedSong.duration&&Pe.a.isNumeric(this.selectedSong.duration.toString())||(s=!0,this.errors.duration=!0,""===this.selectedSong.duration?this.errorMessage.push("Duration cannot be blank!"):this.errorMessage.push("Duration must be numeric!")),""===this.selectedSong.lyrics?(s=!0,this.errors.lyrics=!0,this.errorMessage.push("Lyrics cannot be blank!")):t=this.selectedSong.lyrics.split("\n"),""!==this.selectedSong.coverImage&&Pe.a.isURL(this.selectedSong.coverImage)||(s=!0,this.errors.coverImage=!0,""===this.selectedSong.coverImage?this.errorMessage.push("Image URL cannot be blank!"):this.errorMessage.push("Image URL must be a valid URL ending in png or image format!")),s){e.next=17;break}return this.editMode=!1,e.next=14,V.updateSong({title:this.selectedSong.title,artist:this.selectedSong.artist,genre:this.selectedSong.genre.split(",").map((function(e){return e.trim()})),duration:this.selectedSong.duration,lyrics:t,coverImage:this.selectedSong.coverImage,url:this.selectedSong.url}).catch((function(e){console.log(e)}));case 14:return e.next=16,V.getAllSongs().then((function(e){200==e.status&&(r.songList=e.data.results)})).catch((function(e){console.log(e)}));case 16:null==this.songList?this.songList=[]:this.songList.forEach((function(e){e.editMode=!1}));case 17:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),formatSong:function(e){for(var t=Object(De["a"])({},e),s="",r=0;r<t.lyrics.length;r++)s+=t.lyrics[r],r+1!==t.lyrics.length&&(s+="\n");t.lyrics=s;for(var n="",a=0;a<t.genre.length;a++)n+=t.genre[a],a+1!==t.genre.length&&(n+=", ");return t.genre=n,t}}},Be=qe,Fe=(s("9425"),Object(g["a"])(Be,Ae,We,!1,null,"9f213cb2",null)),ze=Fe.exports;r["a"].use(U["a"]);var Ge=new U["a"]({mode:"history",routes:[{path:"/",component:K},{path:"/about",component:A},{path:"/login",component:ae,meta:{requiresVisitor:!0}},{path:"/player",component:xe,meta:{requiresAuth:!0}},{path:"/signup",component:Re,meta:{requiresVisitor:!0}},{path:"/upload",component:Ee,meta:{requiresAuth:!0}},{path:"/database",component:ze,meta:{requiresAuth:!0}}]});r["a"].config.productionTip=!1,Ge.beforeEach((function(e,t,s){e.matched.some((function(e){return e.meta.requiresAuth}))?R.getters.loggedIn?s():s({path:"/login",query:{redirect:e.fullPath}}):e.matched.some((function(e){return e.meta.requiresVisitor}))&&R.getters.loggedIn?s({path:"/player",query:{redirect:e.fullPath}}):s()}));var Ve=localStorage.getItem("user-token");Ve&&(f.a.defaults.headers.common["Authorization"]=Ve),new r["a"]({router:Ge,store:R,render:function(e){return e(b)}}).$mount("#app")},"6b02":function(e,t,s){"use strict";var r=s("3577"),n=s.n(r);n.a},"806b":function(e,t,s){"use strict";var r=s("0328"),n=s.n(r);n.a},8188:function(e,t,s){},"85ec":function(e,t,s){},9425:function(e,t,s){"use strict";var r=s("a177"),n=s.n(r);n.a},9439:function(e,t,s){},"94a4":function(e,t,s){"use strict";var r=s("1c0a"),n=s.n(r);n.a},"95da":function(e,t,s){e.exports=s.p+"img/InfiniteLoop.f343a21a.png"},"96f5":function(e,t,s){},a177:function(e,t,s){},a35d:function(e,t,s){},a789:function(e,t,s){},eb0f:function(e,t,s){"use strict";var r=s("96f5"),n=s.n(r);n.a},edd0:function(e,t,s){"use strict";var r=s("f9e6"),n=s.n(r);n.a},f9e6:function(e,t,s){}});
//# sourceMappingURL=app.8f51d8f5.js.map